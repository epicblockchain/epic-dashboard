<html>
  <head>
    <meta charset="UTF-8">
    <title>ePIC Dashboard</title>
    <!-- https://electronjs.org/docs/tutorial/security#csp-meta-tag -->
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    <link rel="stylesheet" href="node_modules/materialize-css/dist/css/materialize.min.css">
  </head>
  
  <!-- sidenav -->
  <!-- todo fix this disappearing on very small screens -->
  <div class="container">
    <ul id="nav" class="sidenav sidenav-fixed">
      <li>
        <div class="container">
          <img width="100%" src="img/EpicLogo-Vertical.png">
        </div>  
      </li>
      <li><div class="divider"></div></li>
      <li id="nav-dashboard" class="nav-selector grey lighten-2"><a class="waves-effect">Dashboard</a></li>
      <li id="nav-charts" class="nav-selector"><a class="waves-effect">Charts</a></li>
      <!-- <li id="nav-workers" class="nav-selector"><a class="waves-effect">Market</a></li> -->
      <li id="nav-pools" class="nav-selector"><a class="waves-effect">Pools</a></li>
      <li id="nav-settings" class="nav-selector"><a class="waves-effect">Settings</a></li>
    </ul>
  </div>
       
  <!-- dashboard page -->
  <div id="page-dashboard" class="container page">
    <div class="row">
      <div class="col s4">
        <div class="card blue">
          <div class="card-content white-text">
            <div class="card-content white-text">
              <span id="total-hashrate" class="card-title">Loading...</span>
              <p>Total Hashrate</p>
            </div>
          </div>
        </div>
      </div>
      <div class="col s4">
        <div class="card red">
          <div class="card-content white-text">
            <div class="card-content white-text">
              <span id="rejected-share-percentage" class="card-title">Loading...</span>
              <p>Rejected Share %</p>
            </div>
          </div>
        </div>
      </div>
      <div class="col s4">
        <div class="card green">
          <div class="card-content white-text">
            <div class="card-content white-text">
              <span id="uptime" class="card-title">Loading...</span>
              <p>Uptime</p>
            </div>
          </div>
        </div>
      </div>
      <div class="col s4">
        <div class="card orange">
          <div class="card-content white-text">
            <div class="card-content white-text">
              <span id="current-pool" class="card-title">Loading...</span>
              <p>Current Pool</p>
            </div>
          </div>
        </div>
      </div>
      <div class="col s4">
        <div class="card purple">
          <div class="card-content white-text">
            <div class="card-content white-text">
              <span id="difficulty" class="card-title">Loading...</span>
              <p>Difficulty</p>
            </div>
          </div>
        </div>
      </div>
      <div class="col s4">
        <div class="card yellow">
          <div class="card-content">
            <div class="card-content">
              <span id="last-accepted-share-time" class="card-title">Loading...</span>
              <p>Last Accepted Share Time</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- charts page -->
  <div id="page-charts" class="container hide page">
    <div>
      <canvas id="hashrate-chart" width="100%" height="100%"></canvas>
    </div>
  </div>


  <!-- js stuff -->
  <script>
    window.jQuery = window.$ = require('jquery'); //jquery needs to be init like this because of node environment
  </script>
  <script src="node_modules/materialize-css/dist/js/materialize.min.js"></script>  
  <!-- <script src="custom/Worker.js"></script>
  <script src="custom/ChartManager.js"></script>
  <script src="custom/HBInfo.js"></script> -->
  <script>
    //to init the info and charts

    //materializecss inits
    //sidebar
    document.addEventListener('DOMContentLoaded', function() {
      var instances = M.Sidenav.init();//elems, options
    });
    $(document).ready(function(){
      $('.sidenav').sidenav();
    });

    //nav logic to highlight nav selector and show/hide page elements
    $('.nav-selector').click(function(event){
      //navbar highlighting
      var selector_id = $(this)[0].id;
      $(".nav-selector").removeClass("grey lighten-2");
      $(this).addClass("grey lighten-2");
      //page hiding / showing
      $(".page").addClass('hide'); //make sure this doesnt add the same class twice
      $("#page-"+selector_id.substr(4)).removeClass('hide');
    });

    

  </script>
  </body>
</html>